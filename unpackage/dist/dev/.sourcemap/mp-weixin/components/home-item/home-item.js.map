{"version":3,"sources":["webpack:///E:/Users/yu/Documents/HBuilderProjects/GraduationProject/components/home-item/home-item.vue?2028","webpack:///E:/Users/yu/Documents/HBuilderProjects/GraduationProject/components/home-item/home-item.vue?4ab3","webpack:///E:/Users/yu/Documents/HBuilderProjects/GraduationProject/components/home-item/home-item.vue?d721","webpack:///E:/Users/yu/Documents/HBuilderProjects/GraduationProject/components/home-item/home-item.vue?5c8f","uni-app:///components/home-item/home-item.vue","webpack:///E:/Users/yu/Documents/HBuilderProjects/GraduationProject/components/home-item/home-item.vue?7ea3"],"names":["renderjs","component","options","__file","components","uPopup","helangCheckbox","uMask","zPaging","customRefresher","customNomore","uSubsection","uIcon","uAvatar","uLine","classCard","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","popShow","e1","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,yTACIA,EADJ,+KASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,qCACZ,aAAAF,E;;;;2GCvBf,srC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,gMAITC,eAAgB,WACd,OAAO,6LAITC,MAAO,WACL,OAAO,0LAITC,QAAS,WACP,OAAO,sPAITC,gBAAiB,WACf,OAAO,mMAITC,aAAc,WACZ,OAAO,iLAITC,YAAa,WACX,OAAO,8NAITC,MAAO,WACL,OAAO,0LAITC,QAAS,WACP,OAAO,sMAITC,MAAO,WACL,OAAO,0LAITC,UAAW,WACT,OAAO,0JAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,SAAU,GAGhBT,EAAIU,GAAK,SAASF,GAChBR,EAAIS,SAAU,KAIhBE,GAAmB,EACnBC,EAAkB,GACtBb,EAAOc,eAAgB,G;;;;2DC5FvB,gyBAAyuB,eAAG,G;;;;2MCoF5uB,mB,w4GAUA,CACA,iBACA,YACA,eACA,kBACA,UACA,YACA,aACA,kBAEA,KAVA,WAWA,OACA,YACA,YACA,aACA,SACA,eACA,aACA,sBACA,iBAEA,WACA,kBACA,QACA,aACA,WAEA,CACA,YAGA,aAGA,OACA,UACA,YACA,mBACA,WAGA,cACA,YACA,mBACA,YAIA,eACA,sGAEA,OACA,cACA,QADA,SACA,cACA,oBAEA,mBACA,sCACA,2BACA,8BAKA,eAGA,QAnEA,WAmEA,WACA,iDACA,2BACA,sBAEA,aACA,QACA,SACA,MACA,YACA,YACA,YACA,mBAKA,gBACA,qCADA,IAEA,cAFA,SAEA,GACA,iBACA,cACA,6BAGA,UARA,WASA,gCACA,eACA,oBACA,2BACA,iBAEA,UAfA,SAeA,6JAGA,eACA,YACA,oCACA,cANA,iCAOA,kCACA,qBACA,aACA,iBACA,mCACA,sCAIA,UACA,SACA,wBACA,yBAEA,8CACA,mBACA,kBAvBA,WAyBA,YAzBA,gEAyBA,EAzBA,kBA0BA,qBA1BA,QA0BA,SA1BA,OA2BA,+BA3BA,kJA6BA,oCACA,mCACA,mDACA,UAhCA,wBAkCA,KACA,KAnCA,IAoCA,wBApCA,IAoCA,qCACA,cArCA,iCAuCA,8BACA,YAxCA,oBAyCA,gBAzCA,wBA0CA,6BA1CA,UA2CA,qDACA,OACA,yBAEA,MACA,gIAEA,UACA,SACA,6BACA,KACA,cACA,kBACA,yCACA,4BACA,mBACA,kBA3DA,uCA8DA,8BA9DA,UA+DA,qDACA,OACA,uBACA,iBAEA,MACA,gIAEA,UACA,SACA,6BACA,KACA,cACA,kBACA,yCACA,4BACA,mBACA,kBAhFA,mCAoFA,gBApFA,wBAqFA,6BArFA,UAsFA,qDACA,OACA,uBACA,2BAEA,MACA,gIAEA,UACA,SACA,6BACA,KACA,cACA,kBACA,yCACA,4BACA,mBACA,kBAvGA,uCA0GA,8BA1GA,UA2GA,qDACA,OACA,uBACA,eACA,2BAEA,MACA,gIAEA,UACA,SACA,6BACA,KACA,cACA,kBACA,yCACA,4BACA,mBACA,kBA7HA,QAiIA,gCACA,4CACA,6CACA,QACA,sBACA,wBACA,0BACA,8BACA,iDACA,8CACA,wCACA,kCACA,kCACA,uCACA,gDACA,gDACA,oCAKA,8BACA,2BACA,UAxJA,QA0JA,iBA1JA,mEA4JA,YA3KA,SA2KA,gIACA,eACA,SAFA,SAGA,kCACA,MACA,kCACA,KACA,cACA,kBACA,uBACA,oBAVA,gCAaA,GAbA,8CAeA,YA1LA,WA2LA,cACA,+CACA,QAFA,WAGA,qBAEA,KALA,WAMA,qBAEA,SARA,WASA,wBAIA,cAxMA,WAyMA,cACA,mDACA,QAFA,WAGA,qBAEA,KALA,WAMA,qBAEA,SARA,WASA,2B;;;;2DCpYA,g5CAAk2C,eAAG,G","file":"components/home-item/home-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home-item.vue?vue&type=template&id=17f1ecf0&scoped=true&\"\nvar renderjs\nimport script from \"./home-item.vue?vue&type=script&lang=js&\"\nexport * from \"./home-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home-item.vue?vue&type=style&index=0&id=17f1ecf0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17f1ecf0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/home-item/home-item.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-item.vue?vue&type=template&id=17f1ecf0&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    helangCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"components/helang-checkbox/helang-checkbox\" */ \"@/components/helang-checkbox/helang-checkbox.vue\"\n      )\n    },\n    uMask: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-mask/u-mask\" */ \"uview-ui/components/u-mask/u-mask.vue\"\n      )\n    },\n    zPaging: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/z-paging/components/z-paging/z-paging\" */ \"@/uni_modules/z-paging/components/z-paging/z-paging.vue\"\n      )\n    },\n    customRefresher: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-refresher/custom-refresher\" */ \"@/components/custom-refresher/custom-refresher.vue\"\n      )\n    },\n    customNomore: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-nomore/custom-nomore\" */ \"@/components/custom-nomore/custom-nomore.vue\"\n      )\n    },\n    uSubsection: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-subsection/u-subsection\" */ \"uview-ui/components/u-subsection/u-subsection.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-avatar/u-avatar\" */ \"uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uLine: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-line/u-line\" */ \"uview-ui/components/u-line/u-line.vue\"\n      )\n    },\n    classCard: function() {\n      return import(\n        /* webpackChunkName: \"components/classCard/classCard\" */ \"@/components/classCard/classCard.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.popShow = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.popShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-item.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<u-popup v-model=\"popShow\" mode=\"top\">\r\n\t\t\t<view class=\"pop\">\r\n\t\t\t\t<view style=\"font-size: 18px;font-weight: bold;margin: 20rpx;\">\r\n\t\t\t\t\t类型\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-bottom: 40rpx;\">\r\n\t\t\t\t\t<helang-checkbox ref=\"checkbox\"></helang-checkbox>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn\">\r\n\t\t\t\t\t<view @click=\"popShow=false\" class=\"pop-btn\">\r\n\t\t\t\t\t\t取消\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"popSelect\" class=\"pop-btn\" style=\"background: #007AFF;color: #fff;\">\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-mask :show=\"show\" :mask-click-able=\"false\">\r\n\t\t\t<view v-if=\"show\" class=\"loading\">\r\n\t\t\t\t<Loading text=\"加载中..\" :mask=\"true\" click=\"true\" ref=\"loading\"></Loading>\r\n\t\t\t</view>\r\n\t\t</u-mask>\r\n\t\t<!-- 这里设置了z-paging加载时禁止自动调用reload方法，自行控制何时reload（懒加载），同时允许touchmove事件冒泡，否则无法横向滚动切换tab -->\r\n\t\t<z-paging :default-page-no=\"0\" :default-page-size=\"3\" ref=\"paging\" @query=\"queryList\" :list.sync=\"dataList\"\r\n\t\t\t:mounted-auto-call-reload=\"false\" :refresher-angle-enable-change-continued=\"false\"\r\n\t\t\t:touchmove-propagation-enabled=\"true\" :refresher-status.sync=\"refresherStatus\" style=\"height: 100%;\">\r\n\t\t\t<!-- <view class=\"loading\">\r\n\t\t\t\t<Loading slot=\"loading\" text=\"加载中..\" :mask=\"true\" click=\"true\" ref=\"loading\"></Loading>\r\n\t\t\t</view> -->\r\n\t\t\t<custom-refresher slot=\"refresher\" :status=\"refresherStatus\"></custom-refresher>\r\n\t\t\t<!-- 自定义没有更多数据view -->\r\n\t\t\t<custom-nomore slot=\"loadingMoreNoMore\"></custom-nomore>\r\n\t\t\t<!-- 如果希望其他view跟着页面滚动，可以放在z-paging标签内 -->\r\n\t\t\t<!-- list数据，建议像下方这样在item外层套一个view，而非直接for循环item，因为slot插入有数量限制 -->\r\n\t\t\t<view v-if=\"tabIndex===1\" class=\"select\">\r\n\t\t\t\t<view class=\"sub\">\r\n\t\t\t\t\t<u-subsection :current=\"curNow\" @change=\"sectionChange\" button-color=\"#e1e1e1\" bg-color=\"#fff\" :list=\"chooseList\">\r\n\t\t\t\t\t</u-subsection>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-icon @click=\"popShow=true\" name=\"choose\" custom-prefix=\"custom-icon\" size=\"50\"></u-icon>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"tabIndex===0\" class=\"class-operation\">\r\n\t\t\t\t<view hover-class=\"hover\" class=\"card\" @click=\"goCreateClass\">\r\n\t\t\t\t\t<view class=\"operation\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t创建班级\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t\t管理员可转让\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-avatar mode=\"square\" src=\"/static/img/establish.png\"></u-avatar>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-line :hair-line=\"false\" color=\"#d1d1d1\" direction=\"col\" length=\"80rpx\"></u-line>\r\n\t\t\t\t<view hover-class=\"hover\" class=\"card\" @click=\"goJoinClass\">\r\n\t\t\t\t\t<view class=\"operation\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t加入班级\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t\t已存在的班级\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-avatar mode=\"square\" src=\"/static/img/join.png\"></u-avatar>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<view v-for=\"(res,index) in dataList\" :key=\"index\">\r\n\t\t\t\t\t<view v-if=\"tabIndex==1\">\r\n\t\t\t\t\t\t<notice-card :noticeList=\"res\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"tabIndex==0\">\r\n\t\t\t\t\t\t<classCard :classList=\"res\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</z-paging>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport customNomore from \"@/components/custom-nomore/custom-nomore.vue\"\r\n\timport Loading from \"@/components/loading.vue\";\r\n\timport classCard from \"@/components/classCard/classCard.vue\";\r\n\timport noticeCard from \"@/components/noticeCard/noticeCard.vue\"\r\n\timport customRefresher from \"@/components/custom-refresher/custom-refresher.vue\"\r\n\timport helangCheckbox from \"@/components/helang-checkbox/helang-checkbox.vue\"\r\n\texport default {\r\n\t\tname: \"home-item\",\r\n\t\tcomponents: {\r\n\t\t\tcustomNomore,\r\n\t\t\tcustomRefresher,\r\n\t\t\tLoading,\r\n\t\t\tclassCard,\r\n\t\t\tnoticeCard,\r\n\t\t\thelangCheckbox\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdataList: [],\r\n\t\t\t\ttempList: [],\r\n\t\t\t\tcurType:'全部',\r\n\t\t\t\tcurNow: 0,\r\n\t\t\t\tfirstLoaded: false,\r\n\t\t\t\tcustomStyle: {\r\n\t\t\t\t\tpadding: '10rpx 16rpx',\r\n\t\t\t\t\tfontSize: '14px'\r\n\t\t\t\t},\r\n\t\t\t\tpopShow:false,\r\n\t\t\t\trefresherStatus: 0,\r\n\t\t\t\tshow: true,\r\n\t\t\t\tchooseList: [{\r\n\t\t\t\t\t\tname: '全部'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '我的'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\theadImg: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\ttabIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcurrentIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['uid', 'currentRoleClassList', 'currentRole', 'hasLogin', 'userInfo', 'hasAuth', 'tabbar'])\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurrentIndex: {\r\n\t\t\t\thandler(newVal) {\r\n\t\t\t\t\tif (newVal === this.tabIndex) {\r\n\t\t\t\t\t\t//懒加载，当滑动到当前的item时，才去加载\r\n\t\t\t\t\t\tif (!this.firstLoaded) {\r\n\t\t\t\t\t\t\tconsole.log(\"this.$refs:\", this.$refs)\r\n\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthis.$refs.paging.reload();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.headImg = uni.getStorageSync('userInfo').avatar\r\n\t\t\tthis.$nextTick(()=>{\r\n\t\t\t        this.$refs.checkbox.set({\r\n\t\t\t            //这里填写插件所需参数\r\n\t\t\t\t\t\t type:'radio',   // 类型：单选框\r\n\t\t\t\t\t\t    index:0,        // 默认选中的项\r\n\t\t\t\t\t\t    column:3,       // 分列\r\n\t\t\t\t\t\t    list:[          // 列表数据\r\n\t\t\t\t\t\t        {text:'全部'},\r\n\t\t\t\t\t\t        {text:'通知'},\r\n\t\t\t\t\t\t        {text:'打卡'},\r\n\t\t\t\t\t\t        {text:'填表'}\r\n\t\t\t\t\t\t    ]   \r\n\t\t\t        })\r\n\t\t\t    })\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setClassList']),\r\n\t\t\tsectionChange(index) {\r\n\t\t\t\tif(this.curNow!=index){\r\n\t\t\t\t\tthis.curNow = index;\r\n\t\t\t\t\tthis.$refs.paging.reload();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpopSelect(){\r\n\t\t\t\tlet data = this.$refs.checkbox.get();\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tthis.curType=data.text\r\n\t\t\t\tthis.$refs.paging.reload();\r\n\t\t\t\tthis.popShow=false\r\n\t\t\t},\r\n\t\t\tasync queryList(pageNo, pageSize) {\r\n\t\t\t\t// 组件加载时会自动触发此方法，因此默认页面加载时会自动触发，无需手动调用\r\n\t\t\t\t// 这里的pageNo和pageSize会自动计算好，直接传给服务器即可\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tconst dbCmd = db.command\r\n\t\t\t\tconsole.log(\"tabIndex：\", this.tabIndex)\r\n\t\t\t\tif (this.tabIndex == 0) {\r\n\t\t\t\t\tawait db.collection('class-list').where({\r\n\t\t\t\t\t\t\tclass_members: dbCmd.all([\r\n\t\t\t\t\t\t\t\tdbCmd.elemMatch({\r\n\t\t\t\t\t\t\t\t\tmembers_id: this.uid,\r\n\t\t\t\t\t\t\t\t\tclass_role: this.currentRole.classRole,\r\n\t\t\t\t\t\t\t\t\tusername: this.currentRole.username\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.skip(pageNo * pageSize) // 跳过前20条\r\n\t\t\t\t\t\t.limit(pageSize) // 获取20条\r\n\t\t\t\t\t\t.get().then((res) => {\r\n\t\t\t\t\t\t\tthis.tempList = res.result.data\r\n\t\t\t\t\t\t\t// this.setClassList(res.result.data)\r\n\t\t\t\t\t\t\tconsole.log(\"161-dataList:\", res.result.data)\r\n\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\tfor (let item of this.tempList) {\r\n\t\t\t\t\t\titem.joined = await this.getStuCount(item._id)\r\n\t\t\t\t\t\titem.noJoin = item.class_size - item.joined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$refs.paging.complete(this.tempList);\r\n\t\t\t\t\tconsole.log(\"175-????\", this.dataList)\r\n\t\t\t\t\tconsole.log(\"classIdList:\", this.currentRoleClassList)\r\n\t\t\t\t\tthis.show = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar classIdList = []\r\n\t\t\t\t\tvar tempNotice = []\r\n\t\t\t\t\tfor (let item of this.currentRoleClassList) {\r\n\t\t\t\t\t\tclassIdList.push(item._id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"classIdList:\", classIdList)\r\n\t\t\t\t\tif(this.curNow==0){\r\n\t\t\t\t\t\tif(this.curType=='全部'){\r\n\t\t\t\t\t\t\tconsole.log(\"全部：\",this.curType)\r\n\t\t\t\t\t\t\tawait db.collection('class-notice,class-list,uni-id-users')\r\n\t\t\t\t\t\t\t\t.where({\r\n\t\t\t\t\t\t\t\t\t'class_id._id': dbCmd.in(classIdList)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.field(\r\n\t\t\t\t\t\t\t\t\t'class_id{class_name,class_size,_id},file_list,title,content,type,form_item,release_time,publisher_id{_id,nickname},confirmed'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.skip(pageNo * pageSize) // 跳过前20条\r\n\t\t\t\t\t\t\t\t.limit(pageSize) // 获取20条\r\n\t\t\t\t\t\t\t\t.orderBy('release_time desc')\r\n\t\t\t\t\t\t\t\t.get({\r\n\t\t\t\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"noticeList：\", res.result.data)\r\n\t\t\t\t\t\t\t\t\tthis.tempList = res.result.data\r\n\t\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log( \"非全部：\",this.curType)\r\n\t\t\t\t\t\t\tawait db.collection('class-notice,class-list,uni-id-users')\r\n\t\t\t\t\t\t\t\t.where({\r\n\t\t\t\t\t\t\t\t\t'class_id._id': dbCmd.in(classIdList),\r\n\t\t\t\t\t\t\t\t\ttype:this.curType\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.field(\r\n\t\t\t\t\t\t\t\t\t'class_id{class_name,class_size,_id},file_list,title,content,type,form_item,release_time,publisher_id{_id,nickname},confirmed'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.skip(pageNo * pageSize) // 跳过前20条\r\n\t\t\t\t\t\t\t\t.limit(pageSize) // 获取20条\r\n\t\t\t\t\t\t\t\t.orderBy('release_time desc')\r\n\t\t\t\t\t\t\t\t.get({\r\n\t\t\t\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"noticeList：\", res.result.data)\r\n\t\t\t\t\t\t\t\t\tthis.tempList = res.result.data\r\n\t\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(this.curType=='全部'){\r\n\t\t\t\t\t\t\tconsole.log(\"全部：\",this.curType)\r\n\t\t\t\t\t\t\tawait db.collection('class-notice,class-list,uni-id-users')\r\n\t\t\t\t\t\t\t\t.where({\r\n\t\t\t\t\t\t\t\t\t'class_id._id': dbCmd.in(classIdList),\r\n\t\t\t\t\t\t\t\t\t'publisher_id._id':this.uid\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.field(\r\n\t\t\t\t\t\t\t\t\t'class_id{class_name,class_size,_id},file_list,title,content,type,form_item,release_time,publisher_id{_id,nickname},confirmed'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.skip(pageNo * pageSize) // 跳过前20条\r\n\t\t\t\t\t\t\t\t.limit(pageSize) // 获取20条\r\n\t\t\t\t\t\t\t\t.orderBy('release_time desc')\r\n\t\t\t\t\t\t\t\t.get({\r\n\t\t\t\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"noticeList：\", res.result.data)\r\n\t\t\t\t\t\t\t\t\tthis.tempList = res.result.data\r\n\t\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log( \"非全部：\",this.curType)\r\n\t\t\t\t\t\t\tawait db.collection('class-notice,class-list,uni-id-users')\r\n\t\t\t\t\t\t\t\t.where({\r\n\t\t\t\t\t\t\t\t\t'class_id._id': dbCmd.in(classIdList),\r\n\t\t\t\t\t\t\t\t\ttype:this.curType,\r\n\t\t\t\t\t\t\t\t\t'publisher_id._id':this.uid\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.field(\r\n\t\t\t\t\t\t\t\t\t'class_id{class_name,class_size,_id},file_list,title,content,type,form_item,release_time,publisher_id{_id,nickname},confirmed'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.skip(pageNo * pageSize) // 跳过前20条\r\n\t\t\t\t\t\t\t\t.limit(pageSize) // 获取20条\r\n\t\t\t\t\t\t\t\t.orderBy('release_time desc')\r\n\t\t\t\t\t\t\t\t.get({\r\n\t\t\t\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"noticeList：\", res.result.data)\r\n\t\t\t\t\t\t\t\t\tthis.tempList = res.result.data\r\n\t\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 0; i < this.tempList.length; i++) {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.tempList[i].class_id.length; j++) {\r\n\t\t\t\t\t\t\tif(classIdList.indexOf(this.tempList[i].class_id[j]._id) > -1){\r\n\t\t\t\t\t\t\t\ttempNotice.push({\r\n\t\t\t\t\t\t\t\t\t_id: this.tempList[i]._id,\r\n\t\t\t\t\t\t\t\t\ttype: this.tempList[i].type,\r\n\t\t\t\t\t\t\t\t\ttitle: this.tempList[i].title,\r\n\t\t\t\t\t\t\t\t\tcontent: this.tempList[i].content,\r\n\t\t\t\t\t\t\t\t\tpublisher: this.tempList[i].publisher_id[0].nickname,\r\n\t\t\t\t\t\t\t\t\tpublisherId: this.tempList[i].publisher_id[0]._id,\r\n\t\t\t\t\t\t\t\t\trelease_time: this.tempList[i].release_time,\r\n\t\t\t\t\t\t\t\t\tconfirmed: this.tempList[i].confirmed,\r\n\t\t\t\t\t\t\t\t\tfile_list: this.tempList[i].file_list,\r\n\t\t\t\t\t\t\t\t\tclass_id: this.tempList[i].class_id[j]._id,\r\n\t\t\t\t\t\t\t\t\tclass_name: this.tempList[i].class_id[j].class_name,\r\n\t\t\t\t\t\t\t\t\tclass_size: this.tempList[i].class_id[j].class_size,\r\n\t\t\t\t\t\t\t\t\tform_item: this.tempList[i].form_item\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"noticeList等于\", tempNotice)\r\n\t\t\t\t\tthis.$refs.paging.complete(tempNotice);\r\n\t\t\t\t\tthis.show = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.firstLoaded = true;\r\n\t\t\t},\r\n\t\t\tasync getStuCount(classID) {\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tvar count = Number\r\n\t\t\t\tawait db.collection('class-list').where({\r\n\t\t\t\t\t'_id': classID,\r\n\t\t\t\t\t'class_members.class_role': '学生'\r\n\t\t\t\t}).get({\r\n\t\t\t\t\tgetCount: true\r\n\t\t\t\t}).then((res => {\r\n\t\t\t\t\tconsole.log(\"!!!!!\", res)\r\n\t\t\t\t\tcount = res.result.count\r\n\r\n\t\t\t\t}))\r\n\t\t\t\treturn count\r\n\t\t\t},\r\n\t\t\tgoJoinClass() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../packageB/pages/joinClass/joinClass',\r\n\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\tconsole.log(\"跳转成功\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tconsole.log(\"跳转失败\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tconsole.log(\"跳转完成\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoCreateClass() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../packageB/pages/createClass/createClass',\r\n\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\tconsole.log(\"跳转成功\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tconsole.log(\"跳转失败\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tconsole.log(\"跳转完成\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.flex {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* 注意，1、父节点需要固定高度，z-paging的height:100%才会生效 */\r\n\t/* 注意，2、请确保z-paging与同级的其他view的总高度不得超过屏幕宽度，以避免超出屏幕高度时页面的滚动与z-paging内部的滚动冲突 */\r\n\t.content {\r\n\t\theight: 100%;\r\n\t\t/* 父节点建议开启flex布局 */\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.loading {\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 150rpx;\r\n\t\twidth: 150rpx;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: -75rpx;\r\n\t\tmargin-left: -75rpx;\r\n\t\tborder: 1px solid rgba(255, 255, 255, 0.1);\r\n\t\tborder-radius: 10upx;\r\n\t\tbackground: #040038;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.class-operation {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\twidth: 710rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tmargin: 20rpx auto;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 20upx 0 rgba(0, 0, 0, 0.10);\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 10rpx;\r\n\r\n\t\t.card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\twidth: 50%;\r\n\r\n\t\t\t.operation {\r\n\r\n\t\t\t\t// margin-right: 30rpx;\r\n\t\t\t\t.name {\r\n\t\t\t\t\tmargin-left: 0;\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tpadding: 10rpx 10rpx 0 0rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t;\r\n\r\n\t\t\t\t.desc {\r\n\t\t\t\t\tcolor: #9f9f9f;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\tpadding: 0 10rpx 10rpx 0rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.select {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\twidth: 380rpx;\r\n\t\tmargin: 20rpx auto;\r\n\t}\r\n\r\n\t.sub {\r\n\t\twidth: 300rpx;\r\n\t}\r\n\t.pop{\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\theight: 600rpx;\r\n\t}\r\n\t.btn{\r\n\t\tcolor: #333;\r\n\t\tfont-size: 18px;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t.pop-btn{\r\n\t\t\twidth: 50%;\r\n\t\t\tpadding: 20rpx 40rpx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-item.vue?vue&type=style&index=0&id=17f1ecf0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-item.vue?vue&type=style&index=0&id=17f1ecf0&lang=scss&scoped=true&\""],"sourceRoot":""}