<view><u-popup bind:input="__e" vue-id="1d383c31-1" mode="bottom" border-radius="14" value="{{show}}" data-event-opts="{{[['^input',[['__set_model',['','show','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['openFile',['$event']]]]]}}" class="pop-item" bindtap="__e">打开文档</view><view data-event-opts="{{[['tap',[['copyUrl',['$event']]]]]}}" class="pop-item" bindtap="__e">复制下载链接</view><view class="pop-item">取消</view></u-popup><view class="head"><view class="title">{{''+noticeInfo.title+''}}</view><view class="class-name">{{''+noticeInfo.class_name+''}}</view><view class="release-time">{{''+releaseTime+'发布'}}</view></view><view class="card"><u-read-more class="vue-ref" vue-id="1d383c31-2" text-indent="0" close-text="展开详情" toggle="{{true}}" data-ref="uReadMore" bind:__l="__l" vue-slots="{{['default']}}"><rich-text style="font-size:20px;" nodes="{{noticeInfo.content}}"></rich-text><view class="flex"><block wx:for="{{imgList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="img"><u-image vue-id="{{('1d383c31-3-'+index)+','+('1d383c31-2')}}" width="200rpx" height="200rpx" src="{{item.url}}" data-event-opts="{{[['^click',[['imgPreview',['$0'],[[['imgList','',index]]]]]]]}}" bind:click="__e" bind:__l="__l"></u-image></view></block></view><view class="file"><block wx:for="{{fileList}}" wx:for-item="item" wx:for-index="index_" wx:key="index_"><view data-event-opts="{{[['tap',[['openPop',['$0'],[[['fileList','',index_]]]]]]]}}" class="file-item flex" bindtap="__e"><u-image vue-id="{{('1d383c31-4-'+index_)+','+('1d383c31-2')}}" width="80rpx" height="80rpx" src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-d0864766-02e5-4b10-8e08-72e0af293546/883e1012-c5e0-454c-bd18-73365ceda8d3.png" bind:__l="__l"></u-image><view style="color:#000000;">{{''+item.name+''}}</view></view></block></view></u-read-more></view><view hidden="{{!(noticeInfo.type!='通知')}}" class="card"><block wx:for="{{noticeInfo.form_item}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="form-item"><view><u-form-item vue-id="{{'1d383c31-5-'+index}}" label-style="{{lableStyle}}" required="{{true}}" label-position="top" label="{{item.title}}" label-width="150" bind:__l="__l" vue-slots="{{['default']}}"><u-radio-group data-custom-hidden="{{!(item.type=='单项选择')}}" vue-id="{{('1d383c31-6-'+index)+','+('1d383c31-5-'+index)}}" wrap="{{true}}" size="40" data-event-opts="{{[['^change',[['radioGroupChange',['$0','$1',index,'$event'],['noticeInfo.form_item.'+index+'.title','noticeInfo.form_item.'+index+'.type']]]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{noticeInfo.form_item[index].options}}" wx:for-item="res" wx:for-index="__i0__" wx:key="id"><u-radio bind:input="__e" vue-id="{{('1d383c31-7-'+index+'-'+__i0__)+','+('1d383c31-6-'+index)}}" shape="circle" name="{{res.name}}" value="{{res.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],[[['noticeInfo.form_item.'+index+'.options','id',res.id]]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}">{{''+res.name+''}}</u-radio></block></u-radio-group><u-checkbox-group data-custom-hidden="{{!(item.type=='多项选择')}}" vue-id="{{('1d383c31-8-'+index)+','+('1d383c31-5-'+index)}}" wrap="{{true}}" size="40" data-event-opts="{{[['^change',[['checkboxGroupChange',['$0','$1',index,'$event'],['noticeInfo.form_item.'+index+'.title','noticeInfo.form_item.'+index+'.type']]]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{noticeInfo.form_item[index].options}}" wx:for-item="data" wx:for-index="__i1__" wx:key="id"><u-checkbox bind:input="__e" vue-id="{{('1d383c31-9-'+index+'-'+__i1__)+','+('1d383c31-8-'+index)}}" name="{{data.name}}" value="{{data.checked}}" data-event-opts="{{[['^input',[['__set_model',['$0','checked','$event',[]],[[['noticeInfo.form_item.'+index+'.options','id',data.id]]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}">{{''+data.name+''}}</u-checkbox></block></u-checkbox-group><view hidden="{{!(item.type=='文本填空')}}" style="background:#fff;"><u-input vue-id="{{('1d383c31-10-'+index)+','+('1d383c31-5-'+index)}}" placeholder="请输入" type="text" border="{{true}}" value="{{noticeInfo.form_item[index].value}}" data-event-opts="{{[['^blur',[['inputChange',['$0','$1',index,'$2'],['noticeInfo.form_item.'+index+'.title','noticeInfo.form_item.'+index+'.type','noticeInfo.form_item.'+index+'.value']]]],['^input',[['__set_model',['$0','value','$event',[]],['noticeInfo.form_item.'+index+'']]]]]}}" bind:blur="__e" bind:input="__e" bind:__l="__l"></u-input></view><view hidden="{{!(item.type=='地理位置')}}" class="place"><view data-event-opts="{{[['tap',[['getLocation',['$0','$1',index],['noticeInfo.form_item.'+index+'.title','noticeInfo.form_item.'+index+'.type']]]]]}}" hidden="{{!(!hasLocation)}}" class="place-desc flex" bindtap="__e"><u-icon vue-id="{{('1d383c31-11-'+index)+','+('1d383c31-5-'+index)}}" custom-prefix="custom-icon" color="#0055ff" name="weizhi" size="{{32}}" bind:__l="__l"></u-icon>点击获取你的位置</view><view hidden="{{!(hasLocation)}}" class="add-detail"><view class="lo-name">{{''+locationName+''}}</view><view class="lo-detail">{{''+locationDetail+''}}</view><view data-event-opts="{{[['tap',[['getLocation',['$0','$1',index],['noticeInfo.form_item.'+index+'.title','noticeInfo.form_item.'+index+'.type']]]]]}}" class="foot" bindtap="__e"><u-icon vue-id="{{('1d383c31-12-'+index)+','+('1d383c31-5-'+index)}}" custom-prefix="custom-icon" color="#0055ff" name="weizhi" size="{{28}}" bind:__l="__l"></u-icon>重新获取位置</view></view></view></u-form-item></view></view></block></view><view class="card"><view style="padding:10rpx;font-size:18px;font-weight:bold;">已填写：</view><view hidden="{{!(currentRole.classRole=='老师')}}" style="width:50%;margin:20rpx auto;"><u-subsection vue-id="1d383c31-13" list="{{list}}" current="{{curNow}}" data-event-opts="{{[['^change',[['sectionChange']]]]}}" bind:change="__e" bind:__l="__l"></u-subsection></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(curNow==0&&(currentRole.classRole=='老师'||isCadres)&&item.$orig.stu_class==noticeInfo.class_id)}}" class="confirm-info"><u-line vue-id="{{'1d383c31-14-'+index}}" color="#e4e7ed" bind:__l="__l"></u-line><view class="person-info flex"><u-avatar vue-id="{{'1d383c31-15-'+index}}" size="80" src="{{item.$orig.stu_avatar}}" bind:__l="__l"></u-avatar><view class="info"><view class="name">{{''+item.$orig.stu_name+''}}</view><view class="time">{{''+item.g0+''}}</view></view></view><block wx:for="{{item.$orig.stu_choice}}" wx:for-item="res" wx:for-index="index_" wx:key="index_"><view hidden="{{!(noticeInfo.type!='通知')}}" class="confirm flex"><view>{{index_+1+"."}}</view><view style="margin-left:8rpx;">{{''+res.title+':'}}</view><view style="margin-left:12rpx;">{{''+res.choice+''}}</view></view></block></view></block><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!((currentRole.classRole=='学生'||!isCadres)&&item.$orig.stu_class==noticeInfo.class_id)}}" class="confirm-info"><block wx:if="{{item.$orig.stu_name==currentRole.username}}"><view><u-line vue-id="{{'1d383c31-16-'+index}}" color="#e4e7ed" bind:__l="__l"></u-line><view class="person-info flex"><u-avatar vue-id="{{'1d383c31-17-'+index}}" size="80" src="{{item.$orig.stu_avatar}}" bind:__l="__l"></u-avatar><view class="info"><view class="name">{{''+item.$orig.stu_name+''}}</view><view class="time">{{''+item.g1+''}}</view></view></view><block wx:for="{{item.$orig.stu_choice}}" wx:for-item="res" wx:for-index="index_" wx:key="index_"><view class="confirm flex"><view>{{index_+1+"."}}</view><view style="margin-left:8rpx;">{{''+res.title+':'}}</view><view style="margin-left:12rpx;">{{''+res.choice+''}}</view></view></block></view></block></view></block><view hidden="{{!(curNow==1&&currentRole.classRole=='老师')}}" class="confirm-info"><block wx:for="{{$root.l3}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(noticeInfo.type!='通知')}}" style="margin-top:20rpx;"><view class="table-title">{{''+(index+1)+":"+item.$orig.title+''}}</view><u-table vue-id="{{'1d383c31-18-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><u-tr data-custom-hidden="{{!(item.$orig.type=='单项选择'||item.$orig.type=='多项选择')}}" class="u-tr" vue-id="{{('1d383c31-19-'+index)+','+('1d383c31-18-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-th class="u-th" vue-id="{{('1d383c31-20-'+index)+','+('1d383c31-19-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><view style="width:300rpx;">选项</view></u-th><u-th class="u-th" vue-id="{{('1d383c31-21-'+index)+','+('1d383c31-19-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">小计</u-th><u-th class="u-th" vue-id="{{('1d383c31-22-'+index)+','+('1d383c31-19-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">比例</u-th><u-th class="u-th" vue-id="{{('1d383c31-23-'+index)+','+('1d383c31-19-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">详情</u-th></u-tr><block wx:for="{{item.l2}}" wx:for-item="res" wx:for-index="index_" wx:key="index_"><u-tr data-custom-hidden="{{!(item.$orig.type=='单项选择'||item.$orig.type=='多项选择')}}" class="u-tr" vue-id="{{('1d383c31-24-'+index+'-'+index_)+','+('1d383c31-18-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-td class="u-td" vue-id="{{('1d383c31-25-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}"><view style="width:300rpx;">{{''+res.$orig.name+''}}</view></u-td><block wx:if="{{res.$orig.confirmed}}"><u-td class="u-td" vue-id="{{('1d383c31-26-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">{{res.$orig.confirmed.length}}</u-td></block><block wx:if="{{!res.$orig.confirmed}}"><u-td class="u-td" vue-id="{{('1d383c31-27-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">0</u-td></block><block wx:if="{{res.$orig.confirmed}}"><u-td class="u-td" vue-id="{{('1d383c31-28-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">{{res.m0}}</u-td></block><block wx:if="{{!res.$orig.confirmed}}"><u-td class="u-td" vue-id="{{('1d383c31-29-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">{{res.m1}}</u-td></block><u-td class="u-td" vue-id="{{('1d383c31-30-'+index+'-'+index_)+','+('1d383c31-24-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['goConfirmList',['$0'],[[['tableList.'+index+'.options','',index_,'confirmed']]]]]]]}}" style="color:#007AFF;" bindtap="__e">详情</view></u-td></u-tr></block><u-tr data-custom-hidden="{{!(item.$orig.type=='文本填空')}}" class="u-tr" vue-id="{{('1d383c31-31-'+index)+','+('1d383c31-18-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-th class="u-th" vue-id="{{('1d383c31-32-'+index)+','+('1d383c31-31-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">姓名</u-th><u-th class="u-th" vue-id="{{('1d383c31-33-'+index)+','+('1d383c31-31-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">填写内容</u-th></u-tr><block wx:for="{{tableList[index].value}}" wx:for-item="data" wx:for-index="index_" wx:key="index_"><u-tr data-custom-hidden="{{!(item.$orig.type=='文本填空')}}" class="u-tr" vue-id="{{('1d383c31-34-'+index+'-'+index_)+','+('1d383c31-18-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-td class="u-td" vue-id="{{('1d383c31-35-'+index+'-'+index_)+','+('1d383c31-34-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">{{data.name}}</u-td><u-td class="u-td" vue-id="{{('1d383c31-36-'+index+'-'+index_)+','+('1d383c31-34-'+index+'-'+index_)}}" bind:__l="__l" vue-slots="{{['default']}}">{{data.value}}</u-td></u-tr></block></u-table></view></block></view></view><view hidden="{{!(!hasConfirmed&&currentRole.classRole!='老师')}}" class="btn"><block wx:if="{{noticeInfo.type=='通知'}}"><u-button vue-id="1d383c31-37" type="primary" shape="circle" ripple="{{true}}" ripple-bg-color="#909399" data-event-opts="{{[['^click',[['confirmNotice']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">确认收到通知</u-button></block><block wx:if="{{noticeInfo.type=='打卡'}}"><u-button vue-id="1d383c31-38" type="primary" shape="circle" ripple="{{true}}" ripple-bg-color="#909399" data-event-opts="{{[['^click',[['confirmClock']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">提交打卡</u-button></block></view><view hidden="{{!(hasConfirmed&&currentRole.classRole!='老师')}}" class="btn"><block wx:if="{{noticeInfo.type=='通知'}}"><u-button vue-id="1d383c31-39" custom-style="{{customStyle}}" type="info" shape="circle" disabled="{{false}}" bind:__l="__l" vue-slots="{{['default']}}">已确认收到通知</u-button></block><block wx:if="{{noticeInfo.type=='打卡'}}"><u-button vue-id="1d383c31-40" custom-style="{{customStyle}}" type="info" shape="circle" disabled="{{false}}" bind:__l="__l" vue-slots="{{['default']}}">已完成打卡</u-button></block></view></view>