(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{48:
/*!*********************************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \*********************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";(function(e){o(/*! uni-pages */4);t(o(/*! vue */2));var n=t(o(/*! ./pages/index/index.vue */49));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},49:
/*!**************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue ***!
  \**************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! ./index.vue?vue&type=template&id=57280228&scoped=true& */50),r=o(/*! ./index.vue?vue&type=script&lang=js& */52);for(var c in r)"default"!==c&&function(e){o.d(n,e,(function(){return r[e]}))}(c);o(/*! ./index.vue?vue&type=style&index=0&lang=css& */54),o(/*! ./index.vue?vue&type=style&index=1&id=57280228&lang=scss&scoped=true& */56);var u,i=o(/*! ../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */19),s=Object(i["default"])(r["default"],t["render"],t["staticRenderFns"],!1,null,"57280228",null,!1,t["components"],u);s.options.__file="pages/index/index.vue",n["default"]=s.exports},50:
/*!*********************************************************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=template&id=57280228&scoped=true& ***!
  \*********************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true& */51);o.d(n,"render",(function(){return t["render"]})),o.d(n,"staticRenderFns",(function(){return t["staticRenderFns"]})),o.d(n,"recyclableRender",(function(){return t["recyclableRender"]})),o.d(n,"components",(function(){return t["components"]}))},51:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=template&id=57280228&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,o){"use strict";var t;o.r(n),o.d(n,"render",(function(){return r})),o.d(n,"staticRenderFns",(function(){return u})),o.d(n,"recyclableRender",(function(){return c})),o.d(n,"components",(function(){return t}));try{t={uNavbar:function(){return o.e(/*! import() | node-modules/uview-ui/components/u-navbar/u-navbar */"node-modules/uview-ui/components/u-navbar/u-navbar").then(o.bind(null,/*! uview-ui/components/u-navbar/u-navbar.vue */282))},uIcon:function(){return o.e(/*! import() | node-modules/uview-ui/components/u-icon/u-icon */"node-modules/uview-ui/components/u-icon/u-icon").then(o.bind(null,/*! uview-ui/components/u-icon/u-icon.vue */289))},uSwiper:function(){return o.e(/*! import() | node-modules/uview-ui/components/u-swiper/u-swiper */"node-modules/uview-ui/components/u-swiper/u-swiper").then(o.bind(null,/*! uview-ui/components/u-swiper/u-swiper.vue */296))},uGrid:function(){return o.e(/*! import() | node-modules/uview-ui/components/u-grid/u-grid */"node-modules/uview-ui/components/u-grid/u-grid").then(o.bind(null,/*! uview-ui/components/u-grid/u-grid.vue */303))},uGridItem:function(){return o.e(/*! import() | node-modules/uview-ui/components/u-grid-item/u-grid-item */"node-modules/uview-ui/components/u-grid-item/u-grid-item").then(o.bind(null,/*! uview-ui/components/u-grid-item/u-grid-item.vue */310))}}}catch(i){if(-1===i.message.indexOf("Cannot find module")||-1===i.message.indexOf(".vue"))throw i;console.error(i.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement;e._self._c},c=!1,u=[];r._withStripped=!0},52:
/*!***************************************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */53),r=o.n(t);for(var c in t)"default"!==c&&function(e){o.d(n,e,(function(){return t[e]}))}(c);n["default"]=r.a},53:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(o(/*! ./node_modules/@babel/runtime/regenerator */11)),c=o(/*! vuex */16);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,n,o,t,r,c,u){try{var i=e[c](u),s=i.value}catch(a){return void o(a)}i.done?n(s):Promise.resolve(s).then(t,r)}function s(e){return function(){var n=this,o=arguments;return new Promise((function(t,r){var c=e.apply(n,o);function u(e){i(c,t,r,u,s,"next",e)}function s(e){i(c,t,r,u,s,"throw",e)}u(void 0)}))}}function a(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function l(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?a(Object(o),!0).forEach((function(n){d(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function d(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var f=function(){o.e(/*! require.ensure | components/identityList/identityList */"components/identityList/identityList").then(function(){return resolve(o(/*! @/components/identityList/identityList.vue */317))}.bind(null,o)).catch(o.oe)},g=function(){o.e(/*! require.ensure | components/loading */"components/loading").then(function(){return resolve(o(/*! @/components/loading.vue */324))}.bind(null,o)).catch(o.oe)},p={components:{idenfityList:f,Loading:g},data:function(){return{imgList:[{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-d0864766-02e5-4b10-8e08-72e0af293546/6e0dffdf-9011-47eb-8f14-74378866dec9.jpg"},{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-d0864766-02e5-4b10-8e08-72e0af293546/6e0dffdf-9011-47eb-8f14-74378866dec9.jpg"}],hasRole:!1,show:!0}},onLoad:function(){console.log("index onLoad...");var n=this;e.$once("login",(function(e){console.log("监听到事件来自 login ，携带参数 msg 为："+e.msg),n.getUserInfo()})),this.getUserInfo()},computed:l({},(0,c.mapState)(["uid","hasLogin","userInfo","hasAuth"])),methods:l(l({},(0,c.mapMutations)(["setID","login","logout","getAuth"])),{},{backToIndex:function(){e.reLaunch({url:"../index/index"})},getWeixinCode:function(){return new Promise((function(n,o){e.login({provider:"weixin",success:function(e){console.log("59行成功"),console.log(e.code),n(e.code)},fail:function(e){console.log("63行失败"),o(new Error("微信登录失败"))}})}))},loginByWeixin:function(){var n=this;this.getWeixinCode().then((function(e){return console.log(e),t.callFunction({name:"user-center",data:{action:"loginByWeixin",params:{code:e}}})})).then((function(o){console.log("登录成功"),0===o.result.code&&(console.log("首次登录"),e.setStorageSync("uni_id_token",o.result.token),e.setStorageSync("uni_id_token_expired",o.result.tokenExpired)),n.login()})).catch((function(n){console.error(n),e.showModal({showCancel:!1,content:"微信登录失败，请稍后再试2"})}))},userInfoHandler:function(n,o){var c=this;return s(r.default.mark((function u(){var i;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(n.userInfo),c.getAuth(n.userInfo),i=t.database(),r.next=5,i.collection("uni-id-users").where("_id == $cloudEnv_uid").update({username:n.userInfo.nickName,nickname:n.userInfo.nickName,avatar:n.userInfo.avatarUrl,gender:n.userInfo.gender}).then((function(e){c.getUserInfo()})).catch((function(e){console.log(e.code),console.log(e.message)}));case 5:r.sent,console.log("用户名为："+n.userInfo.nickName),console.log(c.userInfo),0==o?e.navigateTo({url:"../../packageB/pages/createClass/createClass",success:function(){console.log("跳转成功")},fail:function(){console.log("跳转失败")},complete:function(){console.log("跳转完成")}}):e.navigateTo({url:"../../packageB/pages/joinClass/joinClass",success:function(){console.log("跳转成功")},fail:function(){console.log("跳转失败")},complete:function(){console.log("跳转完成")}});case 9:case"end":return r.stop()}}),u)})))()},getUserProfile:function(n){var o=this;e.getUserProfile({desc:"用于完善会员资料",success:function(e){o.userInfoHandler(e,n)}})},getUserInfo:function(){var n=this;return s(r.default.mark((function o(){var c;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log("正在执行getUserInfo"),c=t.database(),o.next=4,c.collection("uni-id-users").where("_id == $cloudEnv_uid").field("avatar,gender,nickname,username,joined_class").get().then((function(o){console.log(o.result.data),o.result.data[0].nickname?(console.log("已授权"),n.setID(o.result.data[0]._id),console.log(n.uid),e.setStorageSync("uni_id",n.uid),n.getAuth(o.result.data[0]),n.checkRole()):(console.log("未授权"),n.show=!1)})).catch((function(e){console.log(e)}));case 4:case"end":return o.stop()}}),o)})))()},checkRole:function(){var e=this;return s(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.database(),n.next=3,o.collection("uni-id-users").where("_id == $cloudEnv_uid").field("joined_class").get({getOne:!0}).then((function(n){console.log(n.result.data),"object"==typeof n.result.data.joined_class&&"Array"==n.result.data.joined_class.constructor.name?n.result.data.joined_class.length>0?(e.hasRole=!0,e.show=!1):(e.hasRole=!1,e.show=!1):e.show=!1}));case 3:case"end":return n.stop()}}),n)})))()},goIndex:function(){e.switchTab({url:"../home/home",success:function(){console.log("跳转成功")},fail:function(){console.log("跳转失败")},complete:function(){console.log("跳转完成")}})}})};n.default=p}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"],o(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js */8)["default"])},54:
/*!***********************************************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */55),r=o.n(t);for(var c in t)"default"!==c&&function(e){o.d(n,e,(function(){return t[e]}))}(c);n["default"]=r.a},55:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){},56:
/*!************************************************************************************************************************************************!*\
  !*** E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=style&index=1&id=57280228&lang=scss&scoped=true& ***!
  \************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=57280228&lang=scss&scoped=true& */57),r=o.n(t);for(var c in t)"default"!==c&&function(e){o.d(n,e,(function(){return t[e]}))}(c);n["default"]=r.a},57:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/Users/yu/Documents/HBuilderProjects/GraduationProject/pages/index/index.vue?vue&type=style&index=1&id=57280228&lang=scss&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){}},[[48,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map